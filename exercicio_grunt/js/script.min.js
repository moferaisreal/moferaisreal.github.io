/*! exercicio_grunt 19-08-2025 */
class Calculator{constructor(t,e){this.displayCurrent=t,this.displayPrevious=e,this.clear()}clear(){this.currentOperand="0",this.previousOperand="",this.operation=void 0,this.resetScreen=!1}delete(){this.currentOperand=this.currentOperand.toString().slice(0,-1),""===this.currentOperand&&(this.currentOperand="0")}appendNumber(t){this.resetScreen?(this.currentOperand=t,this.resetScreen=!1):"."===t&&this.currentOperand.includes(".")||("0"===this.currentOperand&&"."!==t?this.currentOperand=t:this.currentOperand=this.currentOperand.toString()+t.toString())}chooseOperation(t){""!==this.currentOperand&&(""!==this.previousOperand&&this.calculate(),this.operation=t,this.previousOperand=this.currentOperand,this.currentOperand="")}calculate(){let t;var e=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(e)&&!isNaN(r)){switch(this.operation){case"+":t=e+r;break;case"-":t=e-r;break;case"ร":t=e*r;break;case"รท":t=e/r;break;default:return}this.currentOperand=t.toString(),this.operation=void 0,this.previousOperand="",this.resetScreen=!0}}updateDisplay(){this.displayCurrent.innerText=this.currentOperand,null!=this.operation?this.displayPrevious.innerText=this.previousOperand+" "+this.operation:this.displayPrevious.innerText=""}}let displayCurrent=document.querySelector(".current-operation"),displayPrevious=document.querySelector(".previous-operation"),buttons=document.querySelectorAll(".button"),calculator=new Calculator(displayCurrent,displayPrevious);buttons.forEach(t=>{t.addEventListener("click",()=>{t.classList.contains("number")&&(t.dataset.number?calculator.appendNumber(t.dataset.number):"decimal"===t.dataset.action&&calculator.appendNumber("."),calculator.updateDisplay()),t.classList.contains("operator")&&!t.classList.contains("equals")&&(calculator.chooseOperation(t.innerText),calculator.updateDisplay()),t.classList.contains("equals")&&(calculator.calculate(),calculator.updateDisplay()),t.classList.contains("function")&&("clear"===t.dataset.action?(calculator.clear(),calculator.updateDisplay()):"sign"===t.dataset.action?"0"!==calculator.currentOperand&&(calculator.currentOperand=-1*parseFloat(calculator.currentOperand),calculator.updateDisplay()):"percent"===t.dataset.action&&(calculator.currentOperand=(parseFloat(calculator.currentOperand)/100).toString(),calculator.updateDisplay()))})});